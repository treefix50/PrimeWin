<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrimeTime Media Client</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- App Container -->
    <div id="app">
        <!-- Login Screen -->
        <div id="login-screen" class="screen active">
            <div class="login-container">
                <div class="login-box">
                    <img src="assets/logo.png" alt="PrimeTime" class="logo" onerror="this.style.display='none'">
                    <h1>PrimeTime</h1>
                    <p class="subtitle">Media Server Client</p>
                    
                    <form id="login-form">
                        <div class="form-group">
                            <label for="server-url">Server URL</label>
                            <input type="text" id="server-url" placeholder="http://localhost:8080" value="http://localhost:8080" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="username">Benutzername</label>
                            <input type="text" id="username" placeholder="admin" required autofocus>
                        </div>
                        
                        <div class="form-group">
                            <label for="password">Passwort</label>
                            <input type="password" id="password" placeholder="Passwort" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="login-btn">
                            <span class="btn-text">Anmelden</span>
                            <span class="spinner" style="display: none;"></span>
                        </button>
                        
                        <div id="login-error" class="error-message" style="display: none;"></div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Main Screen -->
        <div id="main-screen" class="screen">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left">
                    <h1 class="app-title">PrimeTime</h1>
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Suche..." class="search-input">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </div>
                </div>
                <div class="header-right">
                    <span id="user-name" class="user-name"></span>
                    <button id="logout-btn" class="btn btn-secondary">Abmelden</button>
                </div>
            </header>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <nav class="nav-menu">
                        <div class="nav-section">
                            <p class="nav-section-title">Hauptnavigation</p>
                            <a href="#" class="nav-item active" data-view="home">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                </svg>
                                <span>Startseite</span>
                            </a>
                            <a href="#" class="nav-item" data-view="movies">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                                    <polyline points="17 2 12 7 7 2"></polyline>
                                </svg>
                                <span>Filme</span>
                            </a>
                            <a href="#" class="nav-item" data-view="shows">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                                    <polyline points="17 2 12 7 7 2"></polyline>
                                </svg>
                                <span>Serien</span>
                            </a>
                            <a href="#" class="nav-item" data-view="continue">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polygon points="10 8 16 12 10 16 10 8"></polygon>
                                </svg>
                                <span>Weitersehen</span>
                            </a>
                        </div>
                        <div class="nav-section">
                            <p class="nav-section-title">Bibliotheken</p>
                            <p class="nav-section-empty">Keine zusätzlichen Bibliotheken geladen</p>
                        </div>
                        <div class="nav-section">
                            <p class="nav-section-title">Benutzerbereich</p>
                            <a href="#" class="nav-item" data-view="favorites">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <span>Favoriten</span>
                            </a>
                        </div>
                    </nav>
                </aside>

                <!-- Content Area -->
                <main class="content-area">
                    <div class="content-toolbar">
                        <div class="toolbar-title">
                            <h2>Filter/Sortieren</h2>
                            <p>Genre, Jahr und Sortierung schnell anpassen</p>
                        </div>
                        <div class="filter-controls">
                            <div class="filter-group">
                                <label for="genre-filter">Genre</label>
                                <select id="genre-filter" class="filter-select">
                                    <option value="">Alle Genres</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="year-filter">Jahr</label>
                                <select id="year-filter" class="filter-select">
                                    <option value="">Alle Jahre</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="sort-filter">Sortieren</label>
                                <select id="sort-filter" class="filter-select">
                                    <option value="title">Titel</option>
                                    <option value="modified">Datum</option>
                                    <option value="size">Größe</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- Loading Indicator -->
                    <div id="loading" class="loading-container" style="display: none;">
                        <div class="spinner-large"></div>
                        <p>Lade Medien...</p>
                    </div>

                    <!-- Library Grid -->
                    <div id="library-grid" class="media-grid">
                        <!-- Media cards will be inserted here -->
                    </div>

                    <!-- Empty State -->
                    <div id="empty-state" class="empty-state" style="display: none;">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                            <polyline points="17 2 12 7 7 2"></polyline>
                        </svg>
                        <h2>Keine Medien gefunden</h2>
                        <p>Versuchen Sie eine andere Suche oder Filter</p>
                    </div>
                </main>
            </div>
        </div>

        <!-- Video Player Screen -->
        <div id="player-screen" class="screen">
            <div class="player-container">
                <video id="video-player" class="video-player" controls></video>
                
                <div class="player-controls">
                    <button id="back-btn" class="btn btn-secondary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                        Zurück
                    </button>
                    <div class="player-info">
                        <h2 id="player-title"></h2>
                        <p id="player-meta"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Detail Modal -->
        <div id="detail-modal" class="modal">
            <div class="modal-content">
                <button class="modal-close">&times;</button>
                <div class="detail-header">
                    <div class="detail-backdrop">
                        <img id="detail-backdrop-img" src="" alt="">
                        <div class="detail-backdrop-overlay"></div>
                        <div class="detail-backdrop-content">
                            <div class="detail-header-text">
                                <h1 id="detail-title"></h1>
                                <div id="detail-meta" class="detail-meta detail-meta-chips">
                                    <span id="detail-year" class="meta-chip"></span>
                                    <span id="detail-rating" class="meta-chip"></span>
                                    <span id="detail-runtime" class="meta-chip"></span>
                                </div>
                            </div>
                            <div id="detail-actions" class="detail-actions">
                                <button id="detail-play-btn" class="btn btn-primary btn-large detail-action-primary">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                    </svg>
                                    Abspielen
                                </button>
                                <div class="detail-actions-secondary">
                                    <button id="detail-favorite-btn" class="btn btn-secondary">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                        </svg>
                                        Favorit
                                    </button>
                                    <button id="detail-watched-btn" class="btn btn-secondary">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                        Gesehen
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="detail-container">
                    <div class="detail-poster">
                        <img id="detail-poster-img" src="" alt="">
                    </div>
                    <div class="detail-info">
                        <div id="detail-genres" class="detail-genres"></div>
                        <p id="detail-plot" class="detail-plot"></p>
                        <div class="detail-cast">
                            <h3>Besetzung</h3>
                            <div id="detail-actors" class="detail-people"></div>
                        </div>
                        <div class="detail-crew">
                            <h3>Regie</h3>
                            <div id="detail-directors" class="detail-people"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/api-client.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
